"use strict";(globalThis.webpackChunkalova_website=globalThis.webpackChunkalova_website||[]).push([[4856],{1518(e,n,t){t.d(n,{A:()=>i});const i=t.p+"assets/images/vscode-api-docs-ec00c997703b4f317dd1a6a98cdd7438.png"},11470(e,n,t){t.d(n,{A:()=>w});var i=t(96540),o=t(34164),a=t(17559),r=t(23104),s=t(56347),l=t(205),c=t(57485),d=t(31682),p=t(70679);function u(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,i.useMemo)(()=>{const e=n??function(e){return u(e).map(({props:{value:e,label:n,attributes:t,default:i}})=>({value:e,label:n,attributes:t,default:i}))}(t);return function(e){const n=(0,d.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function m({value:e,tabValues:n}){return n.some(n=>n.value===e)}function g({queryString:e=!1,groupId:n}){const t=(0,s.W6)(),o=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(o),(0,i.useCallback)(e=>{if(!o)return;const n=new URLSearchParams(t.location.search);n.set(o,e),t.replace({...t.location,search:n.toString()})},[o,t])]}function f(e){const{defaultValue:n,queryString:t=!1,groupId:o}=e,a=h(e),[r,s]=(0,i.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:a})),[c,d]=g({queryString:t,groupId:o}),[u,f]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,o]=(0,p.Dv)(n);return[t,(0,i.useCallback)(e=>{n&&o.set(e)},[n,o])]}({groupId:o}),x=(()=>{const e=c??u;return m({value:e,tabValues:a})?e:null})();(0,l.A)(()=>{x&&s(x)},[x]);return{selectedValue:r,selectValue:(0,i.useCallback)(e=>{if(!m({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);s(e),d(e),f(e)},[d,f,a]),tabValues:a}}var x=t(92303);const j="tabList__CuJ",v="tabItem_LNqP";var y=t(74848);function b({className:e,block:n,selectedValue:t,selectValue:i,tabValues:a}){const s=[],{blockElementScrollPositionUntilNextRender:l}=(0,r.a_)(),c=e=>{const n=e.currentTarget,o=s.indexOf(n),r=a[o].value;r!==t&&(l(n),i(r))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=s.indexOf(e.currentTarget)+1;n=s[t]??s[0];break}case"ArrowLeft":{const t=s.indexOf(e.currentTarget)-1;n=s[t]??s[s.length-1];break}}n?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:i})=>(0,y.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{s.push(e)},onKeyDown:d,onClick:c,...i,className:(0,o.A)("tabs__item",v,i?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function A({lazy:e,children:n,selectedValue:t}){const a=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===t);return e?(0,i.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:a.map((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function I(e){const n=f(e);return(0,y.jsxs)("div",{className:(0,o.A)(a.G.tabs.container,"tabs-container",j),children:[(0,y.jsx)(b,{...n,...e}),(0,y.jsx)(A,{...n,...e})]})}function w(e){const n=(0,x.A)();return(0,y.jsx)(I,{...e,children:u(e.children)},String(n))}},19365(e,n,t){t.d(n,{A:()=>r});t(96540);var i=t(34164);const o="tabItem_Ymn6";var a=t(74848);function r({children:e,hidden:n,className:t}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,i.A)(o,t),hidden:n,children:e})}},20771(e,n,t){t.d(n,{A:()=>i});const i=t.p+"assets/images/vscode-query-with-url-b7b6a3163b6d1da7cf3253e2fcbe1a86.png"},28453(e,n,t){t.d(n,{R:()=>r,x:()=>s});var i=t(96540);const o={},a=i.createContext(o);function r(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(a.Provider,{value:n},e.children)}},31754(e,n,t){t.d(n,{A:()=>i});const i=t.p+"assets/images/vscode-namespace-operationid-fc8197050631bc865a34f31c9d94d5d5.png"},34578(e,n,t){t.d(n,{A:()=>i});const i=t.p+"assets/images/vscode-api-call-doc-6abb54f4c7e0c328d8304e0d21edb03f.png"},38547(e,n,t){t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>d,default:()=>m,frontMatter:()=>c,metadata:()=>i,toc:()=>u});const i=JSON.parse('{"id":"tutorial/getting-started/openapi-integration","title":"OpenAPI integration","description":"alova\'s devtool can unleash its full potential.","source":"@site/docs/tutorial/02-getting-started/09-openapi-integration.md","sourceDirName":"tutorial/02-getting-started","slug":"/tutorial/getting-started/openapi-integration","permalink":"/tutorial/getting-started/openapi-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/alovajs/alovajs.github.io/blob/main/docs/tutorial/02-getting-started/09-openapi-integration.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"title":"OpenAPI integration"},"sidebar":"tutorial","previous":{"title":"Server Usage","permalink":"/tutorial/getting-started/basic/server"},"next":{"title":"Conclusion","permalink":"/tutorial/getting-started/congratulations"}}');var o=t(74848),a=t(28453);const r=t.p+"assets/medias/vscode-demo-video-chinese-3cce4926fe1388ebd39af29bb8df13d0.mp4";var s=t(11470),l=t(19365);const c={title:"OpenAPI integration"},d=void 0,p={},u=[{value:"Demo Video",id:"demo-video",level:2},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"The <code>handleApi</code> Hook",id:"the-handleapi-hook",level:2},{value:"Modify API Function Names",id:"modify-api-function-names",level:3},{value:"Modify Tags",id:"modify-tags",level:3},{value:"Modify Response Data Generation",id:"modify-response-data-generation",level:3},{value:"wormhole Plugins",id:"wormhole-plugins",level:2},{value:"Usage",id:"usage",level:2},{value:"Global Mounting (Default)",id:"global-mounting-default",level:3},{value:"Import",id:"import",level:3},{value:"Accessing APIs",id:"accessing-apis",level:3},{value:"Browsing APIs in VSCode",id:"browsing-apis-in-vscode",level:2},{value:"Quick API Lookup",id:"quick-api-lookup",level:2},{value:"Searching by URL",id:"searching-by-url",level:3},{value:"Searching by Description",id:"searching-by-description",level:3},{value:"Referencing the Parameter Table",id:"referencing-the-parameter-table",level:3},{value:"Configuring alova Parameters",id:"configuring-alova-parameters",level:2},{value:"Migrating Legacy Projects",id:"migrating-legacy-projects",level:2},{value:"Notes",id:"notes",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"alova's devtool can unleash its full potential."}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Automatically generate request code and response data types, enabling intelligent hints for interface data even in JavaScript projects."}),"\n",(0,o.jsx)(n.li,{children:"Embed API documentation directly into the code, allowing you to view detailed information for each API right in the editor."}),"\n",(0,o.jsx)(n.li,{children:"Periodically update APIs and proactively notify frontend developers, eliminating reliance on backend developers for updates."}),"\n"]}),"\n",(0,o.jsx)(n.mermaid,{value:"flowchart LR\nR1[OpenAPI File] --\x3e S1[alova Auto-Generation] --\x3e W1[API Functions]\nS1[alova Auto-Generation] --\x3e W2[Complete API Types]\nS1[alova Auto-Generation] --\x3e W3[Complete API Documentation]"}),"\n",(0,o.jsx)(n.p,{children:"This revolutionizes the traditional development workflow. Previously, after backend developers delivered APIs, you had to open intermediate API documentation to query and copy key information into your project, constantly switching between the documentation and the editor. Now, alova's devtool eliminates the need for intermediate API documentation. With it, you can quickly locate the required API in the editor, display its complete documentation, and reference the API parameter table to swiftly complete parameter passing\u2014bridging the collaboration gap between frontend and backend like a wormhole."}),"\n",(0,o.jsx)(n.mermaid,{value:"flowchart LR\n  A[Backend Deploys API] --\x3e B[<s>View Intermediate API Docs</s>] --\x3e C[Write API Call Code]\n\n  class B redNode;\n  classDef redNode fill:transparent,stroke:#ee440050,color:#ee4400,stroke-width:2px;"}),"\n",(0,o.jsx)(n.h2,{id:"demo-video",children:"Demo Video"}),"\n","\n",(0,o.jsx)("video",{width:"100%",controls:!0,controlsList:"nodownload",src:r}),"\n",(0,o.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,o.jsxs)(n.p,{children:["Install ",(0,o.jsx)(n.code,{children:"@alova/wormhole"})," and the VSCode extension. ",(0,o.jsx)(n.code,{children:"@alova/wormhole"})," provides auto-generation features, while the VSCode extension allows you to quickly leverage ",(0,o.jsx)(n.code,{children:"@alova/wormhole"}),"'s capabilities, browse API documentation in the editor, and use shortcuts to find interface documentation."]}),"\n",(0,o.jsx)("a",{className:"button button--primary",style:{marginBottom:"20px"},href:"vscode:extension/Alova.alova-vscode-extension",children:"Install VSCode Extension"}),"\n",(0,o.jsx)(n.p,{children:'Alternatively, search for "alova" in the extension marketplace. Supports Swagger-v2 and OpenAPI-v3 specifications.'}),"\n","\n",(0,o.jsxs)(s.A,{children:[(0,o.jsx)(l.A,{value:"1",label:"npm",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install @alova/wormhole --save-dev\n"})})}),(0,o.jsx)(l.A,{value:"2",label:"yarn",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"yarn add @alova/wormhole --dev\n"})})}),(0,o.jsx)(l.A,{value:"3",label:"pnpm",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"pnpm add @alova/wormhole -D\n"})})})]}),"\n",(0,o.jsx)(n.admonition,{title:"WebStorm Editor Note",type:"info",children:(0,o.jsxs)(n.p,{children:["Non-VSCode editors like WebStorm currently do not support the editor extension. You can use ",(0,o.jsx)(n.a,{href:"/api/wormhole#commands",children:"@alova/wormhole commands"})," to auto-generate API call functions, complete TypeScript types for APIs, and API documentation."]})}),"\n",(0,o.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,o.jsx)(n.p,{children:"When using the extension, you need to specify the input source for the OpenAPI file and the output directory, among other settings. You can create a configuration file in the project root directory, which supports the following formats:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"alova.config.cjs"}),": A CommonJS configuration file using ",(0,o.jsx)(n.code,{children:"module.exports"})," to export settings."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"alova.config.js"}),": An ESModule configuration file using ",(0,o.jsx)(n.code,{children:"export default"})," to export settings."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"alova.config.ts"}),": A TypeScript configuration file using ",(0,o.jsx)(n.code,{children:"export default"})," to export settings."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["You can also use the ",(0,o.jsx)(n.code,{children:"alova init"})," command provided by the ",(0,o.jsx)(n.code,{children:"@alova/wormhole"})," devtool to quickly create a configuration template."]}),"\n",(0,o.jsx)(n.p,{children:"Below is an example of the configuration parameters and their explanations, using CommonJS as an example."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"import { defineConfig } from '@alova/wormhole';\nimport { rename } from '@alova/wormhole/plugin';\n\nmodule.exports = defineConfig({\n  // An array of API generation settings, where each item represents an auto-generation rule, including input/output directories, specification file paths, etc.\n  generator: [\n    // Server 1\n    {\n      // Input parameter 1: URL of the OpenAPI JSON file\n      input: 'http://localhost:3000/openapi.json',\n\n      // Configure one or more plugins, each generator item can have its own settings\n      plugins: [\n        rename({\n          style: 'camelCase'\n        })\n      ],\n\n      // Input parameter 2: Local path relative to the project\n      // input: 'openapi/api.json'\n\n      // Input parameter 3: When not directly pointing to an OpenAPI file, this is a documentation URL, and you must specify the documentation type using the `platform` parameter\n      // input: 'http://192.168.5.123:8080'\n\n      // (Optional) `platform` specifies the OpenAPI platform, currently only supports Swagger. Default is empty.\n      // When this parameter is specified, the `input` field only needs to point to the documentation URL, not the OpenAPI file.\n      platform: 'swagger',\n\n      // Output path for interface and type files. Addresses must not be duplicated across multiple generators to avoid code overwrites.\n      output: 'src/api',\n\n      // (Optional) Specify the media type for generated response data, used to generate TypeScript types for 2xx status codes. Default is `application/json`.\n      responseMediaType: 'application/json',\n\n      // (Optional) Specify the media type for generated request body data, used to generate TypeScript types for the request body. Default is `application/json`.\n      bodyMediaType: 'application/json',\n\n      // (Optional) Specify the API version to generate. Default is `auto`, which determines the version based on the installed alova version in the project. You can also manually specify it if needed.\n      version: 'auto',\n\n      /**\n       * (Optional) Type of generated code. Options: `auto`, `ts`, `typescript`, `module`, `commonjs`. Default is `auto`, which determines the type based on project rules. You can manually specify it if needed:\n       * `ts`/`typescript`: Same meaning, generates TypeScript type files.\n       * `module`: Generates ESModule-compliant files.\n       * `commonjs`: Generates CommonJS-compliant files.\n       */\n      type: 'auto',\n\n      /**\n       * Global API export name. Use this name to access auto-generated APIs globally. Default is `Apis`. Required when configuring multiple generators, and must be unique.\n       */\n      global: 'Apis',\n\n      /**\n       * Host object for global API mounting. Default is `globalThis` (represents `window` in browsers and `global` in Node.js).\n       */\n      globalHost: 'globalThis',\n\n      /**\n       * (Optional) Filter or transform generated API interface functions. Return a new `apiDescriptor` to generate API call functions. If not specified, the `apiDescriptor` object remains unchanged.\n       *\n       * The `apiDescriptor` type matches the API item in the OpenAPI file.\n       * @see https://spec.openapis.org/oas/v3.1.0.html#operation-object\n       */\n      handleApi: apiDescriptor => {\n        // Return a falsy value to filter this API\n        if (!apiDescriptor.path.startsWith('/user')) {\n          return;\n        }\n\n        apiDescriptor.parameters = (apiDescriptor.parameters || []).filter(\n          param => param.in === 'header' && param.name === 'token'\n        );\n        delete apiDescriptor.requestBody.id;\n        apiDescriptor.url = apiDescriptor.url.replace('/user', '');\n        return apiDescriptor;\n      }\n    },\n\n    // Server 2\n    {\n      // ...\n    }\n  ],\n\n  // (Optional) Whether to auto-update APIs. Default is `true`, checking every 5 minutes. Set to `false` to disable.\n  autoUpdate: true\n\n  /* Alternatively, configure more detailed parameters:\n  autoUpdate: {\n    // Update when the editor launches. Default is `false`.\n    launchEditor: true,\n    // Auto-update interval in milliseconds.\n    interval: 5 * 60 * 1000\n  }\n  */\n});\n"})}),"\n",(0,o.jsxs)(n.h2,{id:"the-handleapi-hook",children:["The ",(0,o.jsx)(n.code,{children:"handleApi"})," Hook"]}),"\n",(0,o.jsxs)(n.p,{children:["Note that the ",(0,o.jsx)(n.code,{children:"handleApi"})," hook allows you to customize any API configuration, such as modifying parameter names, types, or return types. This is particularly useful when the OpenAPI file is incorrect or lacks detail."]}),"\n",(0,o.jsxs)(n.p,{children:["It is called before generating each API, receiving the ",(0,o.jsx)(n.code,{children:"apiDescriptor"})," and returning the modified ",(0,o.jsx)(n.code,{children:"apiDescriptor"}),". It contains information for each API in the OpenAPI file. For details, refer to ",(0,o.jsx)(n.a,{href:"https://spec.openapis.org/oas/v3.1.0.html#operation-object",children:"OpenAPI Spec Operation Object"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Here are a few examples."}),"\n",(0,o.jsx)(n.h3,{id:"modify-api-function-names",children:"Modify API Function Names"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"// Convert snake_case to camelCase\nconst handleApi = apiDescription => {\n  apiDescription.operationId = apiDescription.operationId.replace(\n    /_([a-z])/g,\n    function (match, group) {\n      return group.toUpperCase();\n    }\n  );\n  return apiDescription;\n};\n"})}),"\n",(0,o.jsx)(n.h3,{id:"modify-tags",children:"Modify Tags"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"const handleApi = apiDescription => {\n  if (apiDescription.url.includes('/user')) {\n    apiDescription.tags = ['userTag'];\n  }\n  return apiDescription;\n};\n"})}),"\n",(0,o.jsx)(n.h3,{id:"modify-response-data-generation",children:"Modify Response Data Generation"}),"\n",(0,o.jsxs)(n.p,{children:["Generate types for ",(0,o.jsx)(n.code,{children:"response.data"}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"const handleApi = apiDescription => {\n  apiDescriptor.responses = apiDescriptor.responses?.properties?.data;\n  return apiDescriptor;\n};\n"})}),"\n",(0,o.jsx)(n.h2,{id:"wormhole-plugins",children:"wormhole Plugins"}),"\n",(0,o.jsxs)(n.p,{children:["To simplify the logic of modifying generated data, alova's devtool also supports configuring ",(0,o.jsx)(n.code,{children:"plugins"}),". Currently, the following preset plugins are available:"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/resource/devtool-plugins/rename",children:"rename"})}),": Renames API call functions and parameter names, supporting camelCase and snake_case, as well as custom modifications."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/resource/devtool-plugins/tag-modifier",children:"tagModifier"})}),": Modifies the tag names of APIs."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/resource/devtool-plugins/payload-modifier",children:"payloadModifier"})}),": Adds, deletes, or modifies API parameter types."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/resource/devtool-plugins/filter-api",children:"filterApi"})}),": Filters APIs based on URL and tag matching."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/resource/devtool-plugins/apifox",children:"apifox"})}),": Automatically imports projects from Apifox, eliminating the need for manual exports."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/resource/devtool-plugins/import-type",children:"importType"})}),": Excludes types that require customization, allowing users to use their own custom types."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["You can configure ",(0,o.jsx)(n.code,{children:"plugin"})," in the ",(0,o.jsx)(n.code,{children:"generator"})," to use these plugins, and they will be executed in the order they are configured."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"export default defineConfig({\n  generator: [\n    {\n      // ...\n      plugins: [\n        rename(...),\n        tagModifier(...),\n      ]\n    }\n  ]\n})\n"})}),"\n",(0,o.jsxs)(n.p,{children:["If you need to create custom plugins, refer to the ",(0,o.jsx)(n.a,{href:"/resource/devtool-plugins",children:"Plugin Development Guide"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,o.jsxs)(n.p,{children:["The generated API code can be accessed via the ",(0,o.jsx)(n.code,{children:"Apis"})," variable, which can be customized in the configuration file using the ",(0,o.jsx)(n.code,{children:"global"})," field. You can quickly view detailed information for each API in the editor."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Displaying API Details",src:t(52433).A+"",width:"1602",height:"948"})}),"\n",(0,o.jsxs)(n.p,{children:["Here, ",(0,o.jsx)(n.code,{children:"pet"})," is the API's tag, and the API name corresponds to the ",(0,o.jsx)(n.code,{children:"operationId"}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(31754).A+"",width:"461",height:"347"})}),"\n",(0,o.jsxs)(n.p,{children:["You can access ",(0,o.jsx)(n.code,{children:"Apis"})," in two ways:"]}),"\n",(0,o.jsx)(n.h3,{id:"global-mounting-default",children:"Global Mounting (Default)"}),"\n",(0,o.jsxs)(n.p,{children:["Import the ",(0,o.jsx)(n.code,{children:"index.[js/ts]"})," file from the auto-generated directory in the ",(0,o.jsx)(n.code,{children:"main.[js/ts]"})," entry file."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:'title="main.js"',children:"import './your-generating-api-folder';\n"})}),"\n",(0,o.jsx)(n.h3,{id:"import",children:"Import"}),"\n",(0,o.jsxs)(n.p,{children:["Import the ",(0,o.jsx)(n.code,{children:"Apis"})," variable in the files where it is needed."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"import { Apis } from './your-generating-api-folder';\n"})}),"\n",(0,o.jsxs)(n.p,{children:["In this case, you need to remove ",(0,o.jsx)(n.code,{children:"mountApis(Apis)"})," from the ",(0,o.jsx)(n.code,{children:"your-generating-api-folder/index.[js/ts]"})," file to prevent it from being globally mounted."]}),"\n",(0,o.jsx)(n.h3,{id:"accessing-apis",children:"Accessing APIs"}),"\n",(0,o.jsxs)(n.p,{children:["When using an API, you can specify request parameters via ",(0,o.jsx)(n.code,{children:"params"}),", ",(0,o.jsx)(n.code,{children:"pathParams"}),", ",(0,o.jsx)(n.code,{children:"data"}),", or ",(0,o.jsx)(n.code,{children:"headers"}),". It will intelligently prompt the required parameters for the API. Additionally, you can specify other config parameters for the method instance."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"useRequest(() =>\n  Apis.user.changeProfile({\n    // (Optional) Query parameters\n    params: {\n      id: 12\n    },\n    // (Optional) Path parameters\n    pathParams: {\n      id2: 20\n    },\n    // (Optional) Body parameters\n    data: {\n      name: 'alova',\n      age: 18\n    },\n    // (Optional) Header parameters\n    headers: {\n      'Content-Type': 'application/json'\n    },\n\n    // Other config options supported by the method\n    cacheFor: 100 * 1000,\n    transform: response => response.detail\n  })\n);\n"})}),"\n",(0,o.jsx)(n.h2,{id:"browsing-apis-in-vscode",children:"Browsing APIs in VSCode"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"[VSCode extension required]"}),"After generating the APIs, you can view all API documentation in the sidebar."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Shows detailed information about the API",src:t(1518).A+"",width:"1507",height:"930"})}),"\n",(0,o.jsx)(n.h2,{id:"quick-api-lookup",children:"Quick API Lookup"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"[VSCode extension required]"}),"You can quickly locate the target API using keywords from its ",(0,o.jsx)(n.code,{children:"description"})," or ",(0,o.jsx)(n.code,{children:"url"}),". Use the shortcut ",(0,o.jsx)(n.code,{children:"ctrl+alt+p(mac: command+option+p)"})," to open the API search box or trigger the quick lookup with the keyword ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"a->"})}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"searching-by-url",children:"Searching by URL"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(20771).A+"",width:"1938",height:"428"})}),"\n",(0,o.jsx)(n.h3,{id:"searching-by-description",children:"Searching by Description"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(49706).A+"",width:"1984",height:"396"})}),"\n",(0,o.jsx)(n.h3,{id:"referencing-the-parameter-table",children:"Referencing the Parameter Table"}),"\n",(0,o.jsxs)(n.p,{children:["By default, when accessing an API function via ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"a->"})}),", the necessary parameters for the API will be automatically provided. When passing parameters to the API function, the VSCode editor will also automatically display the API documentation for reference."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(34578).A+"",width:"627",height:"384"})}),"\n",(0,o.jsxs)(n.p,{children:["If you accidentally close the API documentation popup, you can place the cursor on the API function and use the shortcut ",(0,o.jsx)(n.code,{children:"Shift+Ctrl+Space"})," (or ",(0,o.jsx)(n.code,{children:"Shift+Command+Space"})," on Mac) to reopen it."]}),"\n",(0,o.jsx)(n.h2,{id:"configuring-alova-parameters",children:"Configuring alova Parameters"}),"\n",(0,o.jsxs)(n.p,{children:["Typically, we set global parameters in ",(0,o.jsx)(n.code,{children:"createAlova"}),". In the auto-generated code, you can configure these in ",(0,o.jsx)(n.code,{children:"${output}/index.[js/ts]"}),", where ",(0,o.jsx)(n.code,{children:"${output}"})," is the ",(0,o.jsx)(n.code,{children:"output"})," directory specified in the configuration file. This file will not be overwritten when regenerating the code."]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"index"})," file looks like this:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"import { createAlova } from 'alova';\nimport GlobalFetch from 'alova/GlobalFetch';\nimport VueHook from 'alova/vue';\nimport { createApis, withConfigType, mountApis } from './createApis';\n\n// The alova instance for the current API. You can modify parameters here.\nexport const alovaInstance = createAlova({\n  baseURL: 'server parameter from the OpenAPI file',\n  statesHook: VueHook,\n  requestAdapter: GlobalFetch(),\n  beforeRequest: method => {},\n  responded: res => {\n    return res.json();\n  }\n});\n\n// Reusable method parameter configurations\nexport const $$userConfigMap = withConfigType({});\n\n/**\n * @type {APIS}\n */\nconst Apis = createApis(alovaInstance, $$userConfigMap);\nmountApis(Apis);\n\nexport default Apis;\n"})}),"\n",(0,o.jsxs)(n.p,{children:["You can write interceptors or change request adapters in ",(0,o.jsx)(n.code,{children:"createAlova"})," as usual."]}),"\n",(0,o.jsxs)(n.p,{children:["Note: Since method instances are auto-generated, you cannot directly set method parameters like ",(0,o.jsx)(n.code,{children:"transform"})," or ",(0,o.jsx)(n.code,{children:"cacheFor"})," during creation. To achieve the same effect, specify these parameters in ",(0,o.jsx)(n.code,{children:"withConfigType({})"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Here\u2019s a comparison:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"// Manually defined call function\nexport const useProfile = () =>\n  alovaInstance.Get('/user/profile', {\n    cacheFor: 100 * 1000,\n    transform(data) {\n      return data.detail;\n    }\n  });\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"// Setting method parameters for auto-generated code\nexport const $$userConfigMap = withConfigType({\n  'user.profile': {\n    cacheFor: 100 * 1000,\n    transform(data) {\n      return data.detail;\n    }\n  }\n});\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Here, ",(0,o.jsx)(n.code,{children:"user"})," is the tag, and ",(0,o.jsx)(n.code,{children:"profile"})," is the ",(0,o.jsx)(n.code,{children:"operationId"}),". You can view all API paths in ",(0,o.jsx)(n.code,{children:"${output}/apiDefinitions.[js/ts]"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"migrating-legacy-projects",children:"Migrating Legacy Projects"}),"\n",(0,o.jsx)(n.p,{children:"If you want to integrate the VSCode extension into an existing alova project, follow these steps:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"First, generate the code based on the OpenAPI specification file."}),"\n",(0,o.jsxs)(n.li,{children:["Replace the alova instance in ",(0,o.jsx)(n.code,{children:"${output}/index.[js/ts]"})," with your original alova instance code."]}),"\n",(0,o.jsxs)(n.li,{children:["In the project's existing API call functions, update the import path for the alova instance to ",(0,o.jsx)(n.code,{children:"${output}/index.[js/ts]"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"This allows you to integrate auto-generated code without altering the original codebase."}),"\n",(0,o.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["In TypeScript projects, if VSCode fails to provide correct intellisense, set ",(0,o.jsx)(n.code,{children:'"strictNullChecks": true'})," in ",(0,o.jsx)(n.code,{children:"tsconfig.json"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["If an API is incorrectly typed as ",(0,o.jsx)(n.code,{children:"any"}),", try the following:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"First, ensure the API is imported in the entry file."}),"\n",(0,o.jsx)(n.li,{children:"Second, restart VSCode."}),"\n"]}),"\n"]}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},49706(e,n,t){t.d(n,{A:()=>i});const i=t.p+"assets/images/vscode-query-with-description-3bb3a57904f916252032e97edf306e2b.png"},52433(e,n,t){t.d(n,{A:()=>i});const i=t.p+"assets/images/vscode-api-doc-3e17c4b1f4a4dcff2b2f7a6a37fe1ddc.png"}}]);