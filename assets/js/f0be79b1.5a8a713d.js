"use strict";(globalThis.webpackChunkalova_website=globalThis.webpackChunkalova_website||[]).push([[9073],{28453(e,t,n){n.d(t,{R:()=>s,x:()=>c});var r=n(96540);const a={},o=r.createContext(a);function s(e){const t=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(o.Provider,{value:t},e.children)}},69420(e,t,n){n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"resource/request-adapter/fetch","title":"Fetch Adapter","description":"The fetch adapter is a predefined request adapter for alova, through which you can use all the functions of the fetch API.","source":"@site/docs/resource/01-request-adapter/02-fetch.md","sourceDirName":"resource/01-request-adapter","slug":"/resource/request-adapter/fetch","permalink":"/resource/request-adapter/fetch","draft":false,"unlisted":false,"editUrl":"https://github.com/alovajs/alovajs.github.io/blob/main/docs/resource/01-request-adapter/02-fetch.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Fetch Adapter"},"sidebar":"resource","previous":{"title":"Mock data","permalink":"/resource/request-adapter/alova-mock"},"next":{"title":"XMLHttpRequest Adapter","permalink":"/resource/request-adapter/xhr"}}');var a=n(74848),o=n(28453);const s={title:"Fetch Adapter"},c=void 0,i={},d=[{value:"Usage",id:"usage",level:2},{value:"Configuration items",id:"configuration-items",level:2},{value:"Content-Type Handling",id:"content-type-handling",level:2}];function l(e){const t={blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"The fetch adapter is a predefined request adapter for alova, through which you can use all the functions of the fetch API."}),"\n",(0,a.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(t.p,{children:"Set the request adapter to the fetch adapter"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-js",children:"import { createAlova } from 'alova';\nimport adapterFetch from 'alova/fetch';\n\nconst alovaInst = createAlova({\n  requestAdapter: adapterFetch()\n  // ...\n});\n"})}),"\n",(0,a.jsx)(t.h2,{id:"configuration-items",children:"Configuration items"}),"\n",(0,a.jsxs)(t.p,{children:["When creating a method instance, you can pass in any parameters supported by the ",(0,a.jsx)(t.code,{children:"fetch API"}),", which will be passed to the ",(0,a.jsx)(t.code,{children:"fetch"})," function when requesting."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"alovaInstance.Get('/todo/list', {\n  // ...\n  // highlight-start\n  credentials: 'same-origin',\n  referrerPolicy: 'no-referrer',\n  mode: 'cors'\n  // highlight-end\n});\n"})}),"\n",(0,a.jsxs)(t.p,{children:["When the above method instance is sent through ",(0,a.jsx)(t.code,{children:"fetch"}),", it will be requested with the following parameters."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"fetch('/todo/list', {\n  // ...\n  // highlight-start\n  credentials: 'same-origin',\n  referrerPolicy: 'no-referrer',\n  mode: 'cors'\n  // highlight-end\n});\n"})}),"\n",(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsxs)(t.p,{children:["The request body of the ",(0,a.jsx)(t.code,{children:"fetch API"})," supports passing ",(0,a.jsx)(t.code,{children:"string | FormData | Blob | ArrayBuffer | URLSearchParams | ReadableStream"})," parameters."]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"content-type-handling",children:"Content-Type Handling"}),"\n",(0,a.jsxs)(t.p,{children:["The fetch adapter defaults to ",(0,a.jsx)(t.code,{children:"application/json;charset=UTF-8"})," when no ",(0,a.jsx)(t.code,{children:"Content-Type"})," header is specified and the request body data is not ",(0,a.jsx)(t.code,{children:"FormData"}),". You can override the default behavior by setting the ",(0,a.jsx)(t.code,{children:"Content-Type"})," header."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"alovaInstance.Post(\n  '/todo/create',\n  { title: 'New Todo' },\n  {\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  }\n);\n"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.code,{children:"[v3.4.0+]"}),"If you do not want to set the default ",(0,a.jsx)(t.code,{children:"Content-Type"}),", you can set ",(0,a.jsx)(t.code,{children:"Content-Type"})," to a falsy value, i.e., ",(0,a.jsx)(t.code,{children:"undefined"}),", ",(0,a.jsx)(t.code,{children:"null"}),", ",(0,a.jsx)(t.code,{children:"false"}),", or an empty string."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"alovaInstance.Post(\n  '/todo/create',\n  { title: 'New Todo' },\n  {\n    headers: {\n      'Content-Type': undefined\n    }\n  }\n);\n"})})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}}}]);