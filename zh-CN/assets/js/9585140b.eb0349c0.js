"use strict";(self.webpackChunkalova_website=self.webpackChunkalova_website||[]).push([[5901],{40526:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>t,metadata:()=>o,toc:()=>a});var l=i(85893),r=i(11151);const t={title:"API\u8fc7\u6ee4\u5668"},s=void 0,o={id:"resource/devtool-plugins/filter-api",title:"API\u8fc7\u6ee4\u5668",description:"\u4ecb\u7ecd",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/resource/04-devtool-plugins/04-filter-api.md",sourceDirName:"resource/04-devtool-plugins",slug:"/resource/devtool-plugins/filter-api",permalink:"/zh-CN/resource/devtool-plugins/filter-api",draft:!1,unlisted:!1,editUrl:"https://github.com/alovajs/alovajs.github.io/blob/main/docs/resource/04-devtool-plugins/04-filter-api.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"API\u8fc7\u6ee4\u5668"},sidebar:"resource",previous:{title:"\u53c2\u6570\u4fee\u6539\u5668",permalink:"/zh-CN/resource/devtool-plugins/payload-modifier"},next:{title:"Apifox \u62c9\u53d6\u5668",permalink:"/zh-CN/resource/devtool-plugins/apifox"}},c={},a=[{value:"\u4ecb\u7ecd",id:"\u4ecb\u7ecd",level:2},{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528",level:2},{value:"\u914d\u7f6e\u53c2\u6570",id:"\u914d\u7f6e\u53c2\u6570",level:2},{value:"\u591a\u6761\u4ef6\u914d\u7f6e",id:"\u591a\u6761\u4ef6\u914d\u7f6e",level:2},{value:"\u5305\u542b\u4e0e\u6392\u9664\u7ec4\u5408",id:"\u5305\u542b\u4e0e\u6392\u9664\u7ec4\u5408",level:3},{value:"\u81ea\u5b9a\u4e49\u5339\u914d\u89c4\u5219",id:"\u81ea\u5b9a\u4e49\u5339\u914d\u89c4\u5219",level:3}];function d(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"\u4ecb\u7ecd",children:"\u4ecb\u7ecd"}),"\n",(0,l.jsx)(n.p,{children:"\u672c\u63d2\u4ef6\u7528\u4e8e\u6839\u636e URL \u6216\u6807\u7b7e\uff08tag\uff09\u8fc7\u6ee4 API \u63a5\u53e3\uff0c\u652f\u6301\u591a\u79cd\u5339\u914d\u89c4\u5219\u548c\u7ec4\u5408\u6761\u4ef6\u3002\u4e3b\u8981\u529f\u80fd\u5305\u62ec\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u652f\u6301\u6309 URL \u6216 tag \u8fc7\u6ee4"}),"\n",(0,l.jsx)(n.li,{children:"\u652f\u6301\u5305\u542b\uff08include\uff09\u548c\u6392\u9664\uff08exclude\uff09\u89c4\u5219"}),"\n",(0,l.jsx)(n.li,{children:"\u652f\u6301\u5b57\u7b26\u4e32\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u6216\u81ea\u5b9a\u4e49\u51fd\u6570\u5339\u914d"}),"\n",(0,l.jsx)(n.li,{children:"\u652f\u6301\u591a\u6761\u4ef6\u7ec4\u5408\u8fc7\u6ee4"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u57fa\u672c\u4f7f\u7528",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",metastring:'title="alova.config.js"',children:"import { defineConfig } from '@alova/wormhole';\nimport { apiFilter } from '@alova/wormhole/plugin';\n\nexport default defineConfig({\n  generator: [\n    {\n      // ...\n      plugin: [\n        // \u8fc7\u6ee4\u5305\u542b\u7279\u5b9a URL \u7684 API\n        apiFilter({ include: '/api/user' })\n      ]\n    }\n  ]\n});\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u914d\u7f6e\u53c2\u6570",children:"\u914d\u7f6e\u53c2\u6570"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"interface Config {\n  /**\n   * \u8fc7\u6ee4\u8303\u56f4\uff0c\u9ed8\u8ba4\u4e3a 'url'\n   * url: \u6309\u63a5\u53e3\u8def\u5f84\u8fc7\u6ee4\n   * tag: \u6309\u6807\u7b7e\u8fc7\u6ee4\n   */\n  scope?: 'url' | 'tag';\n\n  /**\n   * \u5305\u542b\u89c4\u5219\n   * string: \u5305\u542b\u6b64\u5b57\u7b26\u4e32\n   * RegExp: \u5339\u914d\u6b64\u6b63\u5219\n   * function: \u81ea\u5b9a\u4e49\u5339\u914d\u51fd\u6570\n   */\n  include?: string | RegExp | ((key: string) => boolean);\n\n  /**\n   * \u6392\u9664\u89c4\u5219\n   * string: \u5305\u542b\u6b64\u5b57\u7b26\u4e32\n   * RegExp: \u5339\u914d\u6b64\u6b63\u5219\n   * function: \u81ea\u5b9a\u4e49\u5339\u914d\u51fd\u6570\n   */\n  exclude?: string | RegExp | ((key: string) => boolean);\n}\n\nfunction apiFilter(config: Config | Config[]): ApiPlugin;\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u591a\u6761\u4ef6\u914d\u7f6e",children:"\u591a\u6761\u4ef6\u914d\u7f6e"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"// \u540c\u65f6\u914d\u7f6e\u591a\u4e2a\u8fc7\u6ee4\u6761\u4ef6\n// \u6700\u7ec8\u7ed3\u679c\u4e3a\u6240\u6709\u6761\u4ef6\u7684\u5e76\u96c6\napiFilter([\n  {\n    scope: 'url',\n    include: /^\\/api\\/user/ // \u5305\u542b\u4ee5 /api/user \u5f00\u5934\u7684 URL\n  },\n  {\n    scope: 'tag',\n    include: 'admin' // \u5305\u542b\u6807\u7b7e\u4e3a admin \u7684 API\n  }\n]);\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u5305\u542b\u4e0e\u6392\u9664\u7ec4\u5408",children:"\u5305\u542b\u4e0e\u6392\u9664\u7ec4\u5408"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"// \u5305\u542b\u7279\u5b9a URL \u4f46\u6392\u9664\u90e8\u5206 API\napiFilter({\n  include: /\\/api\\/user/,\n  exclude: '/api/user/list' // \u6392\u9664 /api/user/list\n});\n"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u6ce8\u610f"}),"\uff1a\u5f53\u540c\u65f6\u6307\u5b9a ",(0,l.jsx)(n.code,{children:"include"})," \u548c ",(0,l.jsx)(n.code,{children:"exclude"})," \u65f6\uff0c\u4f1a\u4ece ",(0,l.jsx)(n.code,{children:"include"})," \u7684\u7ed3\u679c\u4e2d\u6392\u9664 ",(0,l.jsx)(n.code,{children:"exclude"})," \u5339\u914d\u7684 API\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u81ea\u5b9a\u4e49\u5339\u914d\u89c4\u5219",children:"\u81ea\u5b9a\u4e49\u5339\u914d\u89c4\u5219"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-javascript",children:"// \u4f7f\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u5339\u914d\napiFilter({\n  scope: 'url',\n  include: key => key.startsWith('/api') && key.length > 10 // \u5305\u542b\u4ee5 /api \u5f00\u5934\u4e14\u957f\u5ea6\u8d85\u8fc7 10 \u7684 URL\n});\n"})})]})}function u(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>o,a:()=>s});var l=i(67294);const r={},t=l.createContext(r);function s(e){const n=l.useContext(t);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);